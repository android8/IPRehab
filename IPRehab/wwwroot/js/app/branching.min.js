import{Utility}from"./commonImport.js";var EnumChangeEventArg;!function(e){e.Load="Load",e.Change="Change",e.NoScroll="NoScroll"}(EnumChangeEventArg||(EnumChangeEventArg={})),$(function(){const e=new Utility,n={resizable:!0,classes:{"ui-dialog":"my-dialog","ui-dialog-titlebar":"my-dialog-header"},modal:!0,stack:!0,sticky:!0,position:{my:"center",at:"center",of:window},buttons:[{click:function(){$(this).dialog("close")},open:function(e,n){$(".ui-widget-overlay").css({opacity:"0.5",filter:"Alpha(Opacity = 50)","background-color":"black"})}}]};function o(e){let n=document.querySelector("#"+e).getBoundingClientRect().top+document.body.scrollTop;console.log("scroll to "+e+" with amount "+n),window.scrollTo(0,n-15),document.getElementById(e).focus()}!function(){console.log("adding Q12B_addListener()");let e=!1;const o=$(".persistable[id^=Q12B_]");o.on("change",{x:EnumChangeEventArg.Change,y:o},function(o){console.log("before calling Q12B_blank_then_Lock_Discharge(), seenTheDialog = ",e),e=function(e,o){function i(e){o.seenTheDialog=e}function l(e){const n=$(".persistable[id^=Q15B_], .persistable[id^=Q16B_],.persistable[id^=Q17B_], .persistable[id^=Q21B_]"),o=$(".persistable[id^=Q41_],.persistable[id^=Q44C_]");n.each(function(){const n=$(this);console.log("reset "+n.prop("id"),n),n.val(-1),e?(console.log("enable "+n.prop("id"),n),n.prop("disabled",!1).removeAttr("disabled")):(console.log("disable "+n.prop("id"),n),n.prop("disabled",!0)),console.log("raise chage() on "+n.prop("id"),n)}),o.each(function(){const n=$(this);console.log("uncheck "+n.prop("id"),n),n.prop("checked",!1),e?(console.log("enable "+n.prop("id"),n),n.prop("disabled",!1).removeAttr("disabled")):(console.log("disable "+n.prop("id"),n),n.prop("disabled",!0)),console.log("raise change() "+n.prop("id"),n)})}console.log("inside of Q12B_blank_then_Lock_Discharge, fired by "+e+" with seenTheDalog = "+o.seenTheDialog);const a=""!==$(".persistable[id^=Q12B_]").val();let t;if(a)l(a);else if(t="Q12B is not a discharge date. Reset and lock related discharge fields:  Q15B,Q16B, Q17B, Q21B, Q41, Q44C",console.log(t),e===EnumChangeEventArg.Change&&!o.seenTheDialog){const e=function(e){return{Ok:function(){l(e),$(this).dialog("close"),i(!0)},Cancel:function(){$(this).dialog("close"),i(!0)}}};$("#dialog").text(t).dialog(n,{title:"Warning Q12B",buttons:e(a)}),console.log("Q12B handler return byRef.seenTheDialog = ",o.seenTheDialog)}return console.log("byRef.seenTheDialog = ",o.seenTheDialog),console.log("------ done handling Q12B "+e+"------"),o.seenTheDialog}(o.data.x,{seenTheDialog:e})});const i=$(".branchingRule[data-target^=Q12B],.branchingRule[data-target^=Q15B],.branchingRule[data-target^=Q16B],.branchingRule[data-target^=Q17B],.branchingRule[data-target^=Q21B],.branchingRule[data-target^=Q41],.branchingRule[data-target^=Q44C]"),l="If Q12B is not a date, reset and lock related discharge fields: Q15B, Q16B, Q17B, Q21B, Q41, Q44C";i.prop("title",l).show(),i.on("click",function(){$("#dialog").text(l).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("Q12B listener added")}(),function(){console.log("adding Q14A_addListener()");let e=!0;$(".persistable[id^=Q14A_]").on("change",{x:EnumChangeEventArg.Change,y:$(this)},function(o){console.log("before calling Q14B_enabled_if_Q14A_is_Yes(), seenTheDialog = ",e),e=function(e,o){function i(e){o.seenTheDialog=e}function l(e){$(".persistable[id^=Q14B_]").each(function(){const n=$(this);console.log("uncheck "+n.prop("id"),n),n.prop("checked",!1),n.prop("disabled",e)})}if(console.log("inside of Q14B_enabled_if_Q14A_is_Yes, fired by "+e+" with seenTheDalog = "+o.seenTheDialog),1===$(".persistable[id^=Q14A_][id*=Yes]:checked").length)console.log("Q14A is Yes, uncheck and unlock all Q14B, no dialog"),console.log("Q14A without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),l(!1);else{const a="Q14A is unknown or is No, uncheck and lock all Q14B";if(console.log(a),e!==EnumChangeEventArg.Change||o.seenTheDialog)console.log("Q14A without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),l(!0);else{console.log("Q14A with warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog);const t={Ok:function(){l(!0),i(!0),$(this).dialog("close")},Cancel:function(){i(!0)}};$("#dialog").text(a).dialog(n,{title:"Warning 14A",buttons:t})}}return console.log("------ done handling Q14A "+e+"------"),o.seenTheDialog}(o.data.x,{seenTheDialog:e})});const o=$(".branchingRule[data-target^=Q14A], .branchingRule[data-target^=Q14B]"),i="If Q14A is unknown or is No, uncheck and lock all Q14B";o.prop("title",i).show(),o.on("click",function(){$("#dialog").text(i).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("Q14A listener added")}(),function(){console.log("adding Q16_addListener()");let e=!0;$(".persistable[id^=Q16A_]").on("change",{x:EnumChangeEventArg.Change},function(o){console.log("before calling Q16A_is_Home_then_Q17(), seenTheDialog = ",e),e=function(e,o){function i(e){o.seenTheDialog=e}function l(e){const n=$(".persistable[id^=Q17_]");n.length>0&&(console.log("thisQ17",n),n.prop("disabled",e),e?n.val(-1):(console.log("focus on Q17",n),n.focus()))}if(console.log("inside of Q16A_is_Home_then_Q17, fired by "+e+" with seenTheDalog = "+o.seenTheDialog),-1!==$(".persistable[id^=Q16A_] option:selected").text().indexOf("1. Home"))console.log("Q16A without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),l(!1);else{const a="Q16A is not home, clear and lock Q17";console.log(a);const t={Ok:function(){l(!0),i(!0),$(this).dialog("close")},Cancel:function(){i(!0),$(this).dialog("close")}};e!==EnumChangeEventArg.Change||o.seenTheDialog?(console.log("Q16A without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),l(!0)):(console.log("Q16A with warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),$("#dialog").text(a).dialog(n,{title:"Warning Q16A, Q17",buttons:t}))}return console.log("------ done handling Q16A "+e+"------"),o.seenTheDialog}(o.data.x,{seenTheDialog:e})});const o=$(".branchingRule[data-target^=Q16A], .branchingRule[data-target^=Q17]");o.prop("title","If Q16A is home, unlock Q17").show(),o.on("click",function(){$("#dialog").text("If Q16A is home, unlock Q17").dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("Q16 listener added")}(),function(){console.log("adding Q42_addListener()");let e=!0;$(".persistable[id^=Q42_]").each(function(){let o=$(this);o.on("change",{x:EnumChangeEventArg.Change,y:o},function(o){console.log("before calling Q42_Interrupted_then_Q43(), seenTheDialog = ",e),e=function(e,o){function i(e){o.seenTheDialog=e}function l(e){$(".persistable[id^=Q43_]").each(function(){const n=$(this),o=$("button.calendarReset[data-target="+n.prop("id")+"]");e?(console.log("lock Q43"),n.val("").prop("disabled",!0),0!==o.length&&o.prop("disabled",!0)):(console.log("unlock Q43"),n.prop("disabled",!1),""!==n.val()&&0!==o.length&&o.prop("disabled",!1))})}if(console.log("inside of Q42_Interrupted_then_Q43, fired by "+e+" with seenTheDalog = "+o.seenTheDialog),1===$(".persistable[id^=Q42][id*=Yes]:checked").length)l(!1);else if(e!==EnumChangeEventArg.Change||o.seenTheDialog)console.log("Q42 without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),l(!0);else{console.log("Q42 with warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog);const a={Ok:function(){l(!0),i(!0),$(this).dialog("close")},Cancel:function(){i(!0),$(this).dialog("close")}};$("#dialog").text("Q42 is a No, reset and lock all Q43").dialog(n,{title:"Warning Q42, Q43",buttons:a})}return console.log("------ done handling Q42 "+e+"------"),o.seenTheDialog}(o.data.x,{seenTheDialog:e})})});const o=$(".branchingRule[data-target^=Q42], .branchingRule[data-target^=Q43]"),i="If Q42 is a No, reset and lock all Q43";o.prop("title",i).show(),o.on("click",function(){$("#dialog").text(i).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("Q42 listener added")}(),function(){console.log("adding Q43_addListener()");let o,i=!0;$(".persistable[id^=Q43_]").each(function(){if(!o){const l=$(this);l.on("change",{x:EnumChangeEventArg.Change,y:l},function(a){console.log("before calling Q43_Rules(), foundBlank = ",o," seeTheDialog = ",i);const t=function(o,i,l){console.log("inside of Q43_Rules(), fired by "+o+" with seenTheDalog = "+i.seenTheDialog,l);let a=!1;function t(e){i.seenTheDialog=e}function s(e,n){switch(e){case"D":console.log("D",n),$(".persistable[id^=Q43][id!="+n.prop("id")+"]").each(function(){""===$(this).val()&&(a=!0)}),n.prop("disabled",!0),n.next(".bi-calendar-x").prop("diabled",!0);break;case"CU":{console.log("CU",n);const e=$('.persistable[id^=Q43][value=""]');if(e.length>0){const n=e.first();n.prop("disabled",!1).focus(),n.next(".bi-calendar-x").prop("disabled",!1),a=!0}n.prop("disabled",!1),n.next(".bi-calendar-x").prop("diabled",!1);break}}return a}const c=1===$(".persistable[id^=Q42][id*=Yes]:checked").length,d=1===$(".persistable[id^=Q42][id*=No]:checked").length,g=e.getCRUD(l,l.data("oldvalue"),l.val());switch(!0){case c:switch(console.log("thisQ43CRUD ? "+g===void 0?"unchanged":g),console.log("Q42Yes without warning dialog eventType = "+o+"seenTheDialog = "+i.seenTheDialog),g){case"D":case"D1":case"D2":a=s("D",l);break;default:a=s("CU",l)}break;case d:if(o!==EnumChangeEventArg.Change||i.seenTheDialog)console.log("Q42No without warning dialog eventType = "+o+"seenTheDialog = "+i.seenTheDialog),l.val(""),l.prop("disabled",!0);else{console.log("Q42No with warning dialog eventType = "+o+"seenTheDialog = "+i.seenTheDialog);const e=function(e){return function(n,o){return{Ok:function(){if(e)switch(o){case"D":case"D1":case"D2":s("D",n);default:s("CU",n)}else n.val("").prop("disabled",!0);t(!0),$(this).dialog("close")},Cancel:function(){t(!0),$(this).dialog("close")}}}}(d);$("#dialog").text("Find next blank Q43 for editing").dialog(n,{title:"Warning Q43",buttons:e(l,g)})}}return console.log("------ done handling Q43 "+o+"------"),{foundBlank:a,seenTheDialog:i.seenTheDialog}}(a.data.x,{seenTheDialog:i},l);o=t.foundBlank,i=t.seenTheDialog})}}),console.log("Q43 listener added")}(),function(){console.log("adding Q44C_addListener()");let e=!0;$(".persistable[id^=Q44C_],.persistable[id^=Q44C-FollowUp] ").each(function(o,i){$(i).on("change",{x:EnumChangeEventArg.Change},function(o){console.log("before calling Q44C_Affect_Q44D_Q45_Q46(), seenTheDialog = ",e),e=function(e,o){console.log("inside of Q44C_Affect_Q44D_Q46, fired by "+e+" with seenTheDalog = "+o.seenTheDialog);const i=1===$(".persistable[id^=Q44C_][id*=Yes]:checked, .persistable[id^=Q44C-FollowUp][id*=Yes]:checked").length,l=$(".persistable[id^=Q44D_]"),a=$(".persistable[id^=Q45_]"),t=$(".persistable[id^=Q46_]");function s(e){o.seenTheDialog=e}function c(){console.log("disable Q44D"),l.val(-1).prop("disabled",!0),console.log("disable Q45"),a.val(-1).prop("disabled",!0),console.log("enable and focus on Q46"),t.val(-1).prop("disabled",!1).focus()}const d={Ok:function(){c(),s(!0),$(this).dialog("close")},Cancel:function(){s(!0),$(this).dialog("close")}};if(i)console.log("Q44C is yes, unlock Q44D, Q45 and focus on Q44D"),a.length>0&&a.prop("disabled",!1),l.length>0&&l.prop("disabled",!1);else if(l.length>0&&a.length>0&&t.length>0){let i="Q44C is no, lock Q44D, Q45 and focus on Q46";console.log(i),e!==EnumChangeEventArg.Change||o.seenTheDialog?(console.log("Q44C without warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),c()):(console.log("Q44C with warning dialog eventType = "+e+"seenTheDialog = "+o.seenTheDialog),$("#dialog").text(i).dialog(n,{title:"Warning Q44C, Q44D, Q45, Q46",buttons:d}))}return console.log("------ done handling Q44C "+e+"------"),o.seenTheDialog}(o.data.x,{seenTheDialog:e})})});const o=$(".branchingRule[data-target^=Q44C], .branchingRule[data-target^=Q44D], .branchingRule[data-target^=Q45], .branchingRule[data-target^=Q46]"),i=o.prop("title"),l=$(".branchingRule[data-target^=Q44C-FollowUp]"),a="If Q44C is yes, unlock Q44D, Q45 and focus on Q44D. If Q44C is no, lock Q44D, Q45 and focus on Q46";o.prop("title","1. "+i).show(),o.on("click",function(){$("#dialog").text(i).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),l.prop("title",a).show(),l.on("click",function(){$("#dialog").text(a).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("Q44 listener added")}(),function(){console.log("adding Q44D_addListener()");let e=!0;const n=$(".persistable[id^=Q44D_]");n.on("change",{x:EnumChangeEventArg.Change},function(o){console.log("before calling Q44C_Affect_Q44D_Q45_Q46(), seenTheDialog = ",e),e=function(e,n,o){console.log("inside of Q44D_Affect_Q45, fired by "+e+" with seenTheDalog = "+n.seenTheDialog);const i=$(".persistable[id^=Q45_]");return-1===o.val()&&i.prop("disabled",!0),console.log("------ done handling Q44D "+e+"------"),n.seenTheDialog}(o.data.x,{seenTheDialog:e},n)})}(),function(){console.log("adding GG0170I_addListener()");let i=!0;$(".persistable[id^=GG0170I]:not([id*=Discharge_Goal])").each(function(){const l=$(this);l.on("change",{x:EnumChangeEventArg.Change},function(a){const t=l.prop("id");let s;switch(!0){case-1!==t.indexOf("Admission"):s="Admission_Performance";break;case-1!==t.indexOf("Discharge"):s="Discharge_Performance";break;case-1!==t.indexOf("Interim"):s="Interim";break;case-1!==t.indexOf("Followup"):s="Followup"}i=function(i,l,a,t){function s(e){l.seenTheDialog=e}function c(n,i,a,t){if(n.each(function(){e.resetControlValue($(this)),$(this).prop("disabled",a)}),t!==EnumChangeEventArg.Change||l.seenTheDialog)if((null==i?void 0:i.length)>0){console.log("actGG0170I() no scroll but focus ",i.prop("id"));const e=$("#"+i.prop("id"));(null==e?void 0:e.length)>0&&(e.prop("disabled",!1),e.focus())}else console.log(i.prop("id")+" dosen't exist in this context, can not set focus on that element");else(null==i?void 0:i.length)>0&&(console.log("actGG0170I() scroll to ",null==i?void 0:i.prop("id")),null==i||i.prop("disabled",!1),o(i.prop("id")))}let d,g,r;console.log("inside of GG0170JKLMN_depends_on_GG0170I, fired by "+i+" with seenTheDalog = "+l.seenTheDialog),d=$(".persistable[id^=GG0170J_"+t+"]"),g=$(".persistable[id^=GG0170J_"+t+"], .persistable[id^=GG0170K_"+t+"], .persistable[id^=GG0170L_"+t+"]"),r=$(".persistable[id^=GG0170M_"+t+"]");const h=e.getControlValue(a);switch(!0){case h>0&&h<7:console.log("GG0170I without warning dialog eventType = "+i+"seenTheDialog = "+l.seenTheDialog),c(g,d,!1,i);break;default:{const e="GG0170I "+t+" is unknown or is not between 1 and 6, clear and lock GG0170J "+t+", GG0170K "+t+"and GG0170L "+t+", then advance to GG0170M "+t;if(console.log("eventData "+e),i!==EnumChangeEventArg.Change||l.seenTheDialog){console.log("GG0170I without warning dialog eventType = "+i+"seenTheDialog = "+l.seenTheDialog);let e=r;const n=!0;console.log("focusM = ",e),c(g,e,n,i)}else{console.log("GG0170I with warning dialog eventType = "+i+"seenTheDialog = "+l.seenTheDialog);const o={Ok:function(){let e=r;console.log("focusM = ",e),c(g,e,!0,i),s(!0),$(this).dialog("close")},Cancel:function(){s(!0),$(this).dialog("close")}};$("#dialog").text(e).dialog(n,{title:"Warning GG0170JKLM",buttons:o})}break}}return console.log("------ done handling GG0170I "+i+"------"),l.seenTheDialog}(a.data.x,{seenTheDialog:i},l,s)})});const l=$(".branchingRule[data-target=GG0170I]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170J]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170K]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170L]:not([id*=Discharge_Goal])"),a="If GG0170I Admission Performance or Discharge Performance is between 1 and 6, unlock the corresponding measure in J, K, L, and set focus on the corresponding measure in GG0170J. Other measures are unchanged. If the measure is 7 or greater, then reset and lock J, K, L, and set focus on the corresponding measure in GG0170M";l.prop("title",a).show(),l.on("click",function(){$("#dialog").text(a).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("GG0170I listener added")}(),function(){console.log("adding GG0170M_N_addListener()"),$(".persistable[id^=GG0170M]:not([id*=Discharge_Goal]), .persistable[id^=GG0170N]:not([id*=Discharge_Goal])").each(function(){const i=$(this);i.on("change",{x:EnumChangeEventArg.Change},function(l){let a=!0,t=i.prop("id");switch(!0){case-1!==t.indexOf("Admission_Performance"):t="Admission_Performance";break;case-1!==t.indexOf("Discharge_Performance"):t="Discharge_Performance";break;case-1!==t.indexOf("Interim_Performance"):t="Interim_Performance";break;case-1!==t.indexOf("Followup_Performance"):t="Followup_Performance"}console.log("before calling GG0170P_depends_on_GG0170M_and_GG0170N() seenTheDialog = ",a),a=function(i,l,a,t){function s(e){l.seenTheDialog=e}let c,d,g,r,h,u;function p(e){return function(){if(null!=d){const n=e;switch(!0){case n>=7:g.length>0&&g.val(-1).prop("disabled",!0),r.length>0&&r.val(-1).prop("disabled",!0),h.length>0&&(h.prop("disabled",!1),o(h.prop("id")));break;case n>0&&n<7:r.length>0&&r.val(-1).prop("disabled",!0),g.length>0&&(g.prop("disabled",!1),o(g.prop("id")));break;default:g.val(-1).prop("disabled",!0),r.val(-1).prop("disabled",!0)}}else{const n=e;switch(!0){case n>=7:r.length>0&&r.val(-1).prop("disabled",!0),h.length>0&&(h.prop("disabled",!1),o(h.prop("id")));break;case n>0&&n<7:r.length>0&&(r.val(-1).prop("disabled",!1),o(r.prop("id")));break;default:r.length>0&&r.val(-1).prop("disabled",!0)}}}}console.log("inside of GG0170P_depends_on_GG0170M_and_GG0170N, fired by "+i+" with seenTheDalog = "+l.seenTheDialog),-1!==a.prop("id").indexOf("GG0170M")&&(d=$(".persistable[id^=GG0170M_"+t+"]"),g=$(".persistable[id^=GG0170N_"+t+"]"),c=e.getControlValue(d),u="M is unkown or M is greater than 7, reset and lock N and O then advance to P"),null==d&&(g=$(".persistable[id^=GG0170N_"+t+"]"),c=e.getControlValue(g),u="N is unknow or N is greater than 7, reset and lock O then advance to P"),r=$(".persistable[id^=GG0170O_"+t+"]"),h=$(".persistable[id^=GG0170P_"+t+"]");const f={Ok:function(){p(c)(),s(!0),$(this).dialog("close")},Cancel:function(){$(this).dialog("close"),s(!0)}};return i!=EnumChangeEventArg.Change||l.seenTheDialog?p(c)():(console.log("GG0170MN with warning dialog eventType = "+i+"seenTheDialog = "+l.seenTheDialog),$("#dialog").text(u).dialog(n,{title:"Warning GG0170M, N, O, and P",buttons:f})),console.log("------ done handling GG0170MN "+i+"------"),l.seenTheDialog}(l.data.x,{seenTheDialog:a},i,t)})});const i=$(".branchingRule[data-target=GG0170M]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170N]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170O]:not([id*=Discharge_Goal]), .branchingRule[data-target=GG0170P]:not([id*=Discharge_Goal])"),l="If the Admission Performance or Discharge Performance is between 1 and 6, unlock the corresponding measure of the next question in sequence.  That is M opens N, N opens O.  If value is 7 or greater, N and O will be reset and locked, then advance the cursor to P.";i.prop("title",l).show(),i.on("click",function(){$("#dialog").text(l).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("GG0170M_N listener added")}(),function(){console.log("adding GG0170Q_addListner()");let e=!0;const i=$(".persistable[id^=GG0170Q_]");i.each(function(){$(this).on("change",{x:EnumChangeEventArg.Change},function(l){const a=$(".persistable[id^=GG0170Q][id*=No]:checked"),t=$(".persistable[id^=GG0170Q][id*=Yes]:checked");switch(!0){case a.length>0:e=function(e,i){function l(e){i.seenTheDialog=e}console.log("inside of GG0170Q_is_No_skip_to_Complete, fired by "+e+" with seenTheDalog = "+i.seenTheDialog);const a=$(".persistable[id^= Assessment]"),t=$(".persistable[id^= Assessment][id*=Yes]"),s=$(".persistable[id^=GG0170R_]"),c={Ok:function(){s.each(function(){$(this).prop("disabled",!0)}),a.each(function(){$(this).prop("disabled",!1)}),o(t.prop("id")),l(!0),$(this).dialog("close")},Cancel:function(){l(!0),$(this).dialog("close")}},d="At least one of the GG0170Qs is a no, lock all GG0170Rs, advance to Assesment Complete";return console.log(d),e!==EnumChangeEventArg.Change||i.seenTheDialog?(s.each(function(){$(this).prop("disabled",!0)}),a.each(function(){$(this).prop("disabled",!1)}),t.focus()):$("#dialog").text(d).dialog(n,{title:"Warning GG0170Q",buttons:c}),console.log("------ done handling GG0170Q "+e+"------"),i.seenTheDialog}(l.data.x,{seenTheDialog:e});break;case t.length>0:{const i=t.first();let a;switch(!0){case-1!==i.prop("id").indexOf("Admission_Performance"):a=$(".persistable[id^=GG0170R_][id*=Admission_Performance]");break;case-1!==i.prop("id").indexOf("Discharge_Performance"):a=$(".persistable[id^=GG0170R_][id*=Discharge_Performance]");break;case-1!==i.prop("id").indexOf("Interim_Performance"):a=$(".persistable[id^=GG0170R_][id*=Interim_Performance]");break;case-1!==i.prop("id").indexOf("Followup_Performance"):a=$(".persistable[id^=GG0170R_][id*=Followup_Performance]")}console.log("thisGG0170R = ",a),e=function(e,i,l){function a(e){i.seenTheDialog=e}console.log("inside of GG0170Q_is_Yes_skip_to_GG0170R, fired by "+e+" with seenTheDalog = "+i.seenTheDialog);const t={Ok:function(){l.prop("disabled",!1),o(l.prop("id")),a(!0),$(this).dialog("close")},Cancel:function(){a(!0),$(this).dialog("close")}};if(e!==EnumChangeEventArg.Change||i.seenTheDialog)l.prop("disabled",!1),o(l.prop("id"));else{const e="GG0170Q is yes, unlock and advance to corespondent GG0170Rs";console.log(e),$("#dialog").text(e).dialog(n,{title:"Warning GG0170Q",buttons:t})}return console.log("------ done handling GG0170Q "+e+"------"),i.seenTheDialog}(l.data.x,{seenTheDialog:e},a);break}default:i.prop("disabled",!1)}})});const l=$(".branchingRule[data-target^=GG0170Q], .branchingRule[data-target^=AssessmentCompleted]"),a="If any GG0170Q is NO, unlock and set focus on YES of the Complete Assessment";l.prop("title",a).show(),l.on("click",function(){$("#dialog").text(a).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("GG0170Q listner added")}(),function(){console.log("adding J0510_addListener()");let e=!0;$(".persistable[id^=J0510_]").each(function(){const n=$(this);n.on("change",function(){$(".persistable[id^=J0510_] :selected").each(function(){if(-1!==$(this).text().indexOf("0."))return console.log('found "Does not apply in '+n.prop("id")+", advance to J1750 Yes"),e=function(e,n){console.log("inside of J1750_depends_on_J0510, fired by "+e+" with seenTheDalog = "+n.seenTheDialog);const i=$(".persistable[id^=J1750_]"),l=$(".persistable[id^=J1750_][id*=Yes]");return i.each(function(){$(this).prop("disabled",!1)}),e===EnumChangeEventArg.Change?(console.log("scroll to "+l.prop("id")),o(l.prop("id"))):l.prop("disabled",!1).focus(),console.log("------ done handling J0510 "+e+"------"),n.seenTheDialog}(EnumChangeEventArg.Change,{seenTheDialog:e}),!1})})});const i=$(".branchingRule[data-target^=J0510], .branchingRule[data-target^=J1750]"),l='If found "Does not apply in any J0510, unlock all J1750 and set focus on J1750 Yes';i.prop("title",l).show(),i.on("click",function(){$("#dialog").text(l).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),console.log("J0510 listener added")}(),function(){console.log("adding Q12_Q23_addListener()");let o=!1;const i=$(".branchingRule[data-target=Q12], .branchingRule[data-target=Q23]"),l="If Q12 or Q23 is blank or Q12 date is later than Q23 date, lock all inputs and the save button";i.prop("title",l).show(),i.on("click",function(){$("#dialog").text(l).dialog(n,{title:"Rules",buttons:{Ok:function(){$(this).dialog("close")}}})}),$(".persistable[id^=Q12_], .persistable[id^=Q23_]").each(function(){$(this).on("change",{x:EnumChangeEventArg.Change},function(i){console.log("onchange calling Q12_Q23_blank_then_Lock_All(), seenTheDialog = ",o),o=function(o,i){console.log("inside of Q12_Q23_blank_then_Lock_All(), fired by "+o+" with seenTheDalog = "+i.seenTheDialog);const l=$(".persistable[id^=Q12_]").prop("disabled",!1),a=$(".persistable[id^=Q23_]").prop("disabled",!1),t=$(".persistable").not(l).not(a),s=new Date("2020-01-01 00:00:00"),c=new Date(a.val()),d=new Date(l.val()),g=e.isEmpty(l)||e.isEmpty(a),r=c<s||d<s||d<c;function h(e){i.seenTheDialog=e}const u={Ok:function(){console.log("lock all other persistables"),t.each(function(){$(this).prop("disabled",!0)}),$(this).dialog("close"),h(!0)},Cancel:function(){$(this).dialog("close"),h(!0)}};switch(!0){case g:case r:if(console.log("Q12 or Q23 is empty, or onset day is later than admit date, lock all other questions"),$("#ajaxPost").prop("disabled",!0),o!==EnumChangeEventArg.Change||i.seenTheDialog)console.log("Q12 or Q23 without warning dialog eventType = "+o+"seenTheDialog = "+i.seenTheDialog),console.log("lock all other persistables"),t.each(function(){$(this).prop("disabled",!0)});else{let e;console.log("with warning dialog eventType = "+o+"seenTheDialog = "+i.seenTheDialog),g&&(e="Onset Date and Admit Date are record keys, when either is blank, all fields with current values will be locked"),r&&(e="Onset Date and Admit Date must be later than 01/01/2021, and Admit Date must be on Onset Date or later"),n.title="Date",$("#dialog").text(e).dialog(n,{title:"Warning Q12 Q23",buttons:u})}break;default:{const e=$(".persistable[id^=Q14B_],[id^=Q15B_],[id^=Q16B_],[id^=Q17],[id^=Q21B_],[id^=Q41_],[id^=Q43_],[id^=Q44C_],[id^=Q44D_],[id^=Q45_],[id^=Q46_],[id^=GG0170J_]:not([id*=Discharge_Goal]),[id^=GG0170K_]:not([id*=Discharge_Goal]),[id^=GG0170L_]:not([id*=Discharge_Goal]),[id^=GG0170N_]:not([id*=Discharge_Goal]),[id^=GG0170O_]:not([id*=Discharge_Goal]),[id^=GG0170R_]:not([id*=Discharge_Goal]),[id^=J1750_],[id^=Complete]");console.log("Onset Date and Admit Date are not empty, unlock "+$(".persistable").not(e).length+" fields"),$(".persistable").not(e).each(function(){$(this).prop("disabled",!1)}),$(".spinnerContainer").show(),$(".persistable[id^=Q12B_]").change(),$(".persistable[id^=Q14A_]").change(),$(".persistable[id^=Q16A_]").change(),$(".persistable[id^=Q42_]").change(),$(".persistable[id^=Q44C_]").change(),$(".persistable[id^=GG0170I_]").change(),$(".persistable[id^=GG0170M_]").change(),$(".persistable[id^=GG0170Q_]").change(),$(".persistable[id^=J0510]").change(),$(".persistable[id^=Q12B_]").focus(),$("#ajaxPost").prop("disabled",!1),$(".spinnerContainer").hide();break}}return console.log("------ done handling Q12 Q23 "+o+"------"),i.seenTheDialog}(EnumChangeEventArg.Change,{seenTheDialog:o})})}),console.log("Q12_Q23 listener added")}(),console.log("------ self executing arrow function test ------"),$(".questionRow").on("change",".persistable",function(e){void 0!==e.target&&(console.log("e.target = ",e.target),console.log("------ done self executing ------"))}),$(".persistable[id^=Q12_]").change().focus()});